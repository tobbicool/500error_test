---
import Layout from "../../layouts/Layout.astro";
import Trans from "../../components/Trans.astro";
import { initI18n } from "../../i18n";
import { getLanguageFromURL } from "../../utils/language-utils.js";

// Get the language from the URL
const lang = getLanguageFromURL(Astro.url.pathname);

// Initialize i18n with the detected language
const i18n = await initI18n(lang);

function getLocalizedPath(key) {
    const basePath = i18n.t(key);
    const normalizedBasePath = basePath.startsWith("/") ? basePath.slice(1) : basePath;
    return `/${lang === "en" ? "" : lang + "/"}${normalizedBasePath}`;
}
---

<Layout title={i18n.t("title", { ns: "home" })}>
    <section class="home-hero fadeInDown">
        <div class="home-hero__top">
        </div>

        <div class="home-hero__bottom">
            <header class="fadeInDown fade2">
                <h1><Trans key="common:heroHeader" /></h1>
                <h1>Hey</h1>
                <p><Trans key="common:heroDescription" /></p>
            </header>
        </div>
    </section>
</Layout>